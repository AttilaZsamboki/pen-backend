files:
    "/etc/nginx/conf.d/ssl.conf":
        mode: "000644"
        owner: root
        group: root
        content: |
            server {
                listen 443 ssl;
                server_name your_domain.com;

                ssl_certificate /etc/pki/tls/certs/your_certificate.crt;
                ssl_certificate_key /etc/pki/tls/private/your_private_key.key;

                location / {
                    proxy_pass http://localhost:80;
                    proxy_set_header Host $host;
                    proxy_set_header X-Real-IP $remote_addr;
                    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                    proxy_set_header X-Forwarded-Proto $scheme;
                }
            }

    "/etc/nginx/conf.d/redirect_http.conf":
        mode: "000644"
        owner: root
        group: root
        content: |
            server {
                listen 80;
                server_name your_domain.com;
                return 301 https://$host$request_uri;
            }
